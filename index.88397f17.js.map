{"mappings":"AAAA,MAGMA,EAAU,CACZC,OAAQ,MACRC,QAAS,CACL,YAAa,0ECJrB,MACMC,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAUJ,SAASC,cAAc,UAEvCF,EAAOM,mBAAmB,aANN,mFAQpBF,EAAOG,QAAS,EAChBP,EAAOO,QAAS,EDALC,MAAM,uCACRC,MAAMC,IACH,IAAKA,EAAKC,GACV,MAAM,IAAIC,MAAMF,EAAKG,YAErB,OAAOH,EAAKI,MAAM,ICIzBL,MAAKM,IACFf,EAAOM,mBAAmB,YAA0BS,EAP7CC,KAAI,EAACC,KAAEA,EAAIC,GAAEA,KACb,kBAAkBA,MAAOD,eACjCE,KAAK,KAMJf,EAAOG,QAAS,EAChBP,EAAOO,QAAS,CAAK,IAExBa,OAAMC,GAAOC,QAAQC,IAAIF,KAE9BrB,EAAOwB,iBAAiB,UAExB,WACIrB,EAAQsB,UAAUC,IAAI,YAEtBrB,EAAQE,QAAS,EACjBH,EAAOG,QAAS,EAChBP,EAAOO,QAAS,GDdYoB,ECgBZ3B,EAAO4B,MDfhBpB,MAAM,wDAAqCmB,IAAW9B,GACxDY,MAAMC,IACH,IAAKA,EAAKC,GACV,MAAM,IAAIC,MAAMF,EAAKG,YAErB,OAAOH,EAAKI,MAAM,KCWrBL,MAAKM,IACF,MAAMc,EAAMd,EAAK,GAAGe,IACdb,EAAOF,EAAK,GAAGgB,OAAO,GAAGd,KACzBe,EAAQjB,EAAK,GAAGgB,OAAO,GAAGE,YAC1BC,EAAcnB,EAAK,GAAGgB,OAAO,GAAGG,YAEtC/B,EAAQgC,UAcpB,SAAoBN,EAAKZ,EAAMe,EAAOE,GAClC,MAAO,gCAAgCL,WAAaZ,wDAE5CA,oBACDe,gDAEAE,mB,CApBqBE,CAAWP,EAAKZ,EAAMe,EAAOE,GACjD9B,EAAOG,QAAS,EAChBP,EAAOO,QAAS,EAChBJ,EAAQsB,UAAUY,OAAO,WAAW,IAEvCjB,OAAMC,IACHC,QAAQC,IAAI,uDAEbnB,EAAOG,QAAS,EACfP,EAAOO,QAAS,EAChBJ,EAAQsB,UAAUC,IAAI,WAAW,IDjCtC,IAAyBC,C","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = \"https://api.thecatapi.com/v1/\";\nconst END_POINT = \"images/search\";\nconst BREEDS = \"breeds\";\nconst options = {\n    method: \"GET\",\n    headers: {\n        \"x-api-key\": \"live_A0SuNUhg8wMQnI1OOhVMud2yvj7qOKHJm15onacOsEfEROdx7GcPHjr0e4lpJrkC\"\n    }\n}\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}${BREEDS}`)\n        .then((resp) => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n}\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`${BASE_URL}${END_POINT}?breed_ids=${breedId}`, options)\n        .then((resp) => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n}","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst placeholder = `<option class=\"js-select js-placeholder\" value=\"choose\">Select the cat</option>`;\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst message = document.querySelector('.error');\n\nselect.insertAdjacentHTML(\"afterbegin\", placeholder);\n\nloader.hidden = false;\nselect.hidden = true;\n\nfunction createMarkup(arr) {\n    return arr.map(({ name, id }) => {\n        return `<option value=\"${id}\">${name}</option>`\n    }).join(\"\");\n}\n\nfetchBreeds()\n    .then(data => {\n        select.insertAdjacentHTML(\"beforeend\", createMarkup(data));\n        loader.hidden = true;\n        select.hidden = false\n    })\n    .catch(err => console.log(err))\n\nselect.addEventListener(\"change\", onSelect);\n\nfunction onSelect() {\n    catInfo.classList.add(\"cat-card\");\n\n    message.hidden = true;\n    loader.hidden = false;\n    select.hidden = true;\n\n    fetchCatByBreed(select.value)\n        .then(data => {\n            const img = data[0].url;\n            const name = data[0].breeds[0].name;\n            const descr = data[0].breeds[0].description;\n            const temperament = data[0].breeds[0].temperament;\n\n            catInfo.innerHTML = createCard(img, name, descr, temperament);\n            loader.hidden = true;\n            select.hidden = false;\n            catInfo.classList.remove(\"cat-card\");\n        })\n        .catch(err => {\n            console.log(`Oops! Something went wrong! Try reloading the page!`);\n           \n           loader.hidden = true;\n            select.hidden = false;\n            catInfo.classList.add(\"cat-card\");\n        })\n}\n\nfunction createCard(img, name, descr, temperament) {\n    return `<img class=\"js-cat-img\" src=\"${img}\" alt=\"${name}\">\n    <div class=\"js-cat-description\">\n      <h2>${name}</h2>\n      <p>${descr}</p>\n      <h3>Temperament:</h3>\n      <p>${temperament}</p>\n    </div>`;\n}"],"names":["$6b5f202d1456c0af$var$options","method","headers","$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$message","insertAdjacentHTML","hidden","fetch","then","resp","ok","Error","statusText","json","data","map","name","id","join","catch","err","console","log","addEventListener","classList","add","breedId","value","img","url","breeds","descr","description","temperament","innerHTML","$1f0dc3b9307be026$var$createCard","remove"],"version":3,"file":"index.88397f17.js.map"}