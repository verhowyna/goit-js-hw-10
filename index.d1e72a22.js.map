{"mappings":"YAAA,IAAMA,EAAW,gCAGXC,EAAU,CACZC,OAAQ,MACRC,QAAS,CACL,YAAa,0ECJrB,IACMC,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAUJ,SAASC,cAAc,UAEvCF,EAAOM,mBAAmB,aANL,mFAQrBF,EAAOG,QAAS,EAChBP,EAAOO,QAAS,EDALC,MAAM,GAAcC,OAAXb,GAAkBa,OATvB,WAUNC,MAAK,SAACC,GACH,IAAKA,EAAKC,GACV,MAAM,IAAIC,MAAMF,EAAKG,YAErB,OAAOH,EAAKI,M,ICInBL,MAAK,SAAAM,GACFhB,EAAOM,mBAAmB,YAA0BU,EAP7CC,KAAI,SAAAC,G,IAAGC,EAAID,EAAJC,KAAMC,EAAEF,EAAFE,GACpB,MAAO,qCAA4CX,OAAPW,EAAG,MAASX,OAALU,EAAK,Y,IACzDE,KAAK,KAMJjB,EAAOG,QAAS,EAChBP,EAAOO,QAAS,C,IAEnBe,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E,IAE9BvB,EAAO0B,iBAAiB,UAExB,WACIvB,EAAQwB,UAAUC,IAAI,YAEtBvB,EAAQE,QAAS,EACjBH,EAAOG,QAAS,EAChBP,EAAOO,QAAS,GDdYsB,ECgBZ7B,EAAO8B,MDfhBtB,MAAM,GAAcC,OAAXb,GAAkCa,OApBpC,gBAoBuB,eAAqBA,OAARoB,GAAWhC,GACxDa,MAAK,SAACC,GACH,IAAKA,EAAKC,GACV,MAAM,IAAIC,MAAMF,EAAKG,YAErB,OAAOH,EAAKI,M,KCWfL,MAAK,SAAAM,GACF,IAAMe,EAAMf,EAAK,GAAGgB,IACdb,EAAOH,EAAK,GAAGiB,OAAO,GAAGd,KACzBe,EAAQlB,EAAK,GAAGiB,OAAO,GAAGE,YAC1BC,EAAcpB,EAAK,GAAGiB,OAAO,GAAGG,YAEtCjC,EAAQkC,UAcpB,SAAoBN,EAAKZ,EAAMe,EAAOE,GAClC,MAAO,gCAA6C3B,OAAbsB,EAAI,WAEnCtB,OAF4CU,EAAK,oEAGlDV,OADCU,EAAK,oBAGNV,OAFAyB,EAAM,gDAEMzB,OAAZ2B,EAAY,mB,CApBSE,CAAWP,EAAKZ,EAAMe,EAAOE,GACjDhC,EAAOG,QAAS,EAChBP,EAAOO,QAAS,EAChBJ,EAAQwB,UAAUY,OAAO,W,IAE5BjB,OAAM,SAAAC,GACHC,QAAQC,IAAK,uDAEbrB,EAAOG,QAAS,EAChBP,EAAOO,QAAS,EAChBJ,EAAQwB,UAAUC,IAAI,W,IDjC3B,IAAyBC,C","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = \"https://api.thecatapi.com/v1/\";\nconst END_POINT = \"images/search\";\nconst BREEDS = \"breeds\";\nconst options = {\n    method: \"GET\",\n    headers: {\n        \"x-api-key\": \"live_A0SuNUhg8wMQnI1OOhVMud2yvj7qOKHJm15onacOsEfEROdx7GcPHjr0e4lpJrkC\"\n    }\n}\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}${BREEDS}`)\n        .then((resp) => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n}\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`${BASE_URL}${END_POINT}?breed_ids=${breedId}`, options)\n        .then((resp) => {\n            if (!resp.ok) {\n            throw new Error(resp.statusText)\n            }\n            return resp.json()\n    })\n}","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst placeholder = `<option class=\"js-select js-placeholder\" value=\"choose\">Select the cat</option>`;\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst message = document.querySelector('.error');\n\nselect.insertAdjacentHTML(\"afterbegin\", placeholder);\n\nloader.hidden = false;\nselect.hidden = true;\n\nfunction createMarkup(arr) {\n    return arr.map(({ name, id }) => {\n        return `<option class =\"js-select\" value=\"${id}\">${name}</option>`\n    }).join(\"\");\n}\n\nfetchBreeds()\n    .then(data => {\n        select.insertAdjacentHTML(\"beforeend\", createMarkup(data));\n        loader.hidden = true;\n        select.hidden = false\n    })\n    .catch(err => console.log(err))\n\nselect.addEventListener(\"change\", onSelect);\n\nfunction onSelect() {\n    catInfo.classList.add(\"cat-card\");\n\n    message.hidden = true;\n    loader.hidden = false;\n    select.hidden = true;\n\n    fetchCatByBreed(select.value)\n        .then(data => {\n            const img = data[0].url;\n            const name = data[0].breeds[0].name;\n            const descr = data[0].breeds[0].description;\n            const temperament = data[0].breeds[0].temperament;\n\n            catInfo.innerHTML = createCard(img, name, descr, temperament);\n            loader.hidden = true;\n            select.hidden = false;\n            catInfo.classList.remove(\"cat-card\");\n        })\n        .catch(err => {\n            console.log(`Oops! Something went wrong! Try reloading the page!`)\n\n            loader.hidden = true;\n            select.hidden = false;\n            catInfo.classList.add(\"cat-card\");\n        })\n}\n\nfunction createCard(img, name, descr, temperament) {\n    return `<img class=\"js-cat-img\" src=\"${img}\" alt=\"${name}\" width=\"300\">\n    <div class=\"js-cat-description\">\n      <h2>${name}</h2>\n      <p>${descr}</p>\n      <h3>Temperament:</h3>\n      <p>${temperament}</p>\n    </div>`;\n}"],"names":["$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$options","method","headers","$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$message","insertAdjacentHTML","hidden","fetch","concat","then","resp","ok","Error","statusText","json","data","map","param","name","id","join","catch","err","console","log","addEventListener","classList","add","breedId","value","img","url","breeds","descr","description","temperament","innerHTML","$b8f9b7833fa37166$var$createCard","remove"],"version":3,"file":"index.d1e72a22.js.map"}